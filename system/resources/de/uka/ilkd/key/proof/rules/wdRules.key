\sorts{
	Formula;
	\generic I;
}

\schemaVariables {
	\formula a, b, t;
	\term any c, d;
	\term int e, f, g;
	\term Heap h, m;
	\variables I i;
	\variables int j, k;
	\termlabel l;
	\term numbers n;
	\term Object o, q;
	\term Field p;
	\term LocSet r, s;
	\term Seq u, v;
	\term CharList x, y;
}

\transformers {
	wd(any);
	WD(Formula);
	T(Formula);
	F(Formula);
}

\rules {

	wd_Prim_Expr_True_Bool {

		\find (
			wd( TRUE )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Prim_Expr_True_Form {

		\find (
			WD( true )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Prim_Expr_False_Bool {

		\find (
			wd( FALSE )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Prim_Expr_False_Form {

		\find (
			WD( false )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_AtomVarTerm {

		\find (
			wd( c )
		)
		\varcond (
			\isAtomic(c)
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_AtomVarForm {

		\find (
			WD( a )
		)
		\varcond (
			\isAtomic(a)
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_Or {

		\find (
			WD( (a | b)<<l>> )
		)
		\varcond (
			\not \hasLabel(l, SC)
		)
		\replacewith (
			WD(a) & WD(b)
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_And {

		\find (
			WD( (a & b)<<l>> )
		)
		\varcond (
			\not \hasLabel(l, SC)
		)
		\replacewith (
			WD(a) & WD(b)
		)
		\heuristics ( simplify )
	};

	wd_Equality_Pred_Eq {

		\find (
			WD( (c = d) )
		)
		\replacewith (
			wd(c) & wd(d)
		)
		\heuristics ( simplify )
	};

	wd_Equality_Pred_Lt {

		\find (
			WD( lt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Equality_Pred_Leq {

		\find (
			WD( leq(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Equality_Pred_Gt {

		\find (
			WD( gt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Equality_Pred_Geq {

		\find (
			WD( geq(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Neg {
		\find (
			wd( neg(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_BitNeg {

		\find (
			wd( javaBitwiseNegation(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MinusJInt {

		\find (
			wd( unaryMinusJint(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MinusJLong {

		\find (
			wd( unaryMinusJlong(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MinusInt {

		\find (
			wd( javaUnaryMinusInt(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MinusLong {

		\find (
			wd( javaUnaryMinusLong(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MinusIntOverFlow {

		\find (
			wd( javaUnaryMinusIntOverFlow(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MinusLongOverFlow {

		\find (
			wd( javaUnaryMinusLongOverFlow(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MinusBig {

		\find (
			wd( neglit(n) )
		)
		\replacewith (
			wd(n)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_Add {

		\find (
			wd( add(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AddJInt {

		\find (
			wd( addJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AddJLong {

		\find (
			wd( addJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AddInt {

		\find (
			wd( javaAddInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AddLong {

		\find (
			wd( javaAddLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AddIntOverFlow {

		\find (
			wd( javaAddIntOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AddLongOverFlow {

		\find (
			wd( javaAddLongOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_Sub {

		\find (
			wd( sub(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_SubJInt {

		\find (
			wd( subJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_SubJLong {

		\find (
			wd( subJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_SubInt {

		\find (
			wd( javaSubInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_SubLong {

		\find (
			wd( javaSubLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_SubIntOverFlow {

		\find (
			wd( javaSubIntOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_SubLongOverFlow {

		\find (
			wd( javaSubLongOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_Mul {

		\find (
			wd( mul(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MulJInt {

		\find (
			wd( mulJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MulJLong {

		\find (
			wd( mulJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MulInt {

		\find (
			wd( javaMulInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MulLong {

		\find (
			wd( javaMulLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MulIntOverFlow {

		\find (
			wd( javaMulIntOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_MulLongOverFlow {

		\find (
			wd( javaMulLongOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_Div {

		\find (
			wd( div(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JDiv {

		\find (
			wd( jdiv(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_DivJInt {

		\find (
			wd( divJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_DivJLong {

		\find (
			wd( divJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_DivInt {

		\find (
			wd( javaDivInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_DivLong {

		\find (
			wd( javaDivLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_DivIntOverFlow {

		\find (
			wd( javaDivIntOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_DivLongOverFlow {

		\find (
			wd( javaDivLongOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_ShiftRightInt {

		\find (
			wd( shiftrightJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_ShiftRightLong {

		\find (
			wd( shiftrightJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_ShiftLeftInt {

		\find (
			wd( shiftleftJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_ShiftLeftLong {

		\find (
			wd( shiftleftJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_UShiftRightInt {

		\find (
			wd( unsignedshiftrightJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_UShiftRightLong {

		\find (
			wd( unsignedshiftrightJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_OrJInt {

		\find (
			wd( orJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_OrJLong {

		\find (
			wd( orJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_BitOrInt {

		\find (
			wd( javaBitwiseOrInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_BitOrLong {

		\find (
			wd( javaBitwiseOrLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AndJInt {

		\find (
			wd( andJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_AndJLong {

		\find (
			wd( andJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_BitAndInt {

		\find (
			wd( javaBitwiseAndInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_BitAndLong {

		\find (
			wd( javaBitwiseAndLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_XorJInt {

		\find (
			wd( xorJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_XorJLong {

		\find (
			wd( xorJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_BitXOrInt {

		\find (
			wd( javaBitwiseXOrInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_BitXOrLong {

		\find (
			wd( javaBitwiseXOrLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_Mod {

		\find (
			wd( mod(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JMod {

		\find (
			wd( jmod(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_ModJInt {

		\find (
			wd( modJint(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_ModJLong {

		\find (
			wd( modJlong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaMod {

		\find (
			wd( javaMod(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaModOverFlow {

		\find (
			wd( javaModOverFlow(e, f) )
		)
		\replacewith (
			wd(e) & wd(f) & (f != 0)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaShiftRightInt {

		\find (
			wd( javaShiftRightInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaShiftRightLong {

		\find (
			wd( javaShiftRightLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaShiftLeftInt {

		\find (
			wd( javaShiftLeftInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaShiftLeftLong {

		\find (
			wd( javaShiftLeftLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaUnsignedShiftRightInt {

		\find (
			wd( javaUnsignedShiftRightInt(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Numerical_Op_JavaUnsignedShiftRightLong {

		\find (
			wd( javaUnsignedShiftRightLong(e, f) )
		)
		\replacewith (
			wd(e) & wd(f)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Int {

		\find (
			wd( Z(n) )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_C {

		\find (
			wd( C(n) )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Const {

		\find (
			wd( n )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Empty {

		\find (
			wd( empty )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_SeqEmpty {

		\find (
			wd( seqEmpty )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_AllLocs {

		\find (
			wd( allLocs )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_AllObj {

		\find (
			wd( allObjects(p) )
		)
		\replacewith (
			wd(p)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_FreshLocs {

		\find (
			wd( freshLocs(h) )
		)
		\replacewith (
			wd(h)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_AllFields {

		\find (
			wd( allFields(o) )
		)
		\replacewith (
			wd(o) & o != null
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Union {

		\find (
			wd( union(r, s) )
		)
		\replacewith (
			wd(r) & wd(s)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Inters {
		\find (
			wd( intersect(r, s) )
		)
		\replacewith (
			wd(r) & wd(s)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Diff {
		\find (
			wd( setMinus(r, s) )
		)
		\replacewith (
			wd(r) & wd(s)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Disj {
		\find (
			WD( disjoint(r, s) )
		)
		\replacewith (
			wd(r) & wd(s)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_InfUnion {

		\find (
			wd( infiniteUnion{j;}(r) )
		)
		\varcond (
			\notFreeIn(j, r)
		)
		\replacewith (
			\forall j; wd(r)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Subset {

		\find (
			WD( subset(r, s) )
		)
		\replacewith (
			wd(r) & wd(s)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Singleton {

		\find (
			wd( singleton(o, p) )
		)
		\varcond (
			\not \isArray(o),
			\not \isStaticField(p)
		)
		\replacewith (
			wd(o) & wd(p) & o != null
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_SingletonStatic {

		\find (
			wd( singleton(o, p) )
		)
		\varcond (
			\not \isArray(o),
			\isStaticField(p)
		)
		\replacewith (
			wd(o) & wd(p) & o = null
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_SingletonArr {

		\find (
			wd( singleton(o, arr(e)) )
		)
		\varcond (
			\isArray(o)
		)
		\replacewith (
			wd(o) & wd(e) & o != null & leq(0,e) & lt(e,length(o))
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Var {

		\find (
			wd( I::select(h, o, p) )
		)
		\varcond (
			\not \isArray(o),
			\not \isStaticField(p)
		)
		\replacewith (
			wd(o) & o != null & wd(h) & wd(p)
			& (p = java.lang.Object::<created> | boolean::select(h, o, java.lang.Object::<created>) = TRUE)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_VarStatic {

		\find (
			wd( I::select(h, o, p) )
		)
		\varcond (
			\not \isArray(o),
			\isStaticField(p)
		)
		\replacewith (
			wd(h) & wd(o) & o = null & wd(p) & boolean::select(h, o, java.lang.Object::<created>) = TRUE
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Created {

		\find (
			wd( I::select(h, o, java.lang.Object::<created>) )
		)
		\replacewith (
			wd(h) & wd(o) & o != null
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Store {
		\find (
			wd( store(h, o, p, c) )
		 )
		\replacewith (
			wd(h) & wd(o) & o != null & wd(p) & wd(c) & boolean::select(h, o, java.lang.Object::<created>) = TRUE
		 )
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Create {
		\find (
			wd( create(h, o) )
		 )
		\replacewith (
			wd(h) & wd(o) & o != null
		 )
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Anon {
		\find (
			wd( anon(h, r, m) )
		 )
		\replacewith (
			wd(h) & wd(r) & wd(m)
		 )
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Memset {
		\find (
			wd( memset(h, r, c) )
		 )
		\replacewith (
			wd(h) & wd(r) & wd(c)
		 )
		\heuristics ( simplify )
	};

	wd_Ref_Expr_StoreValid {
		\find (
			WD( arrayStoreValid(c, d) )
		 )
		\replacewith (
			wd(c) & wd(d)
		 )
		\heuristics ( simplify )
	};

	wd_WellOrderLeq {
		\find (
			WD( wellOrderLeqInt(e, f) )
		 )
		\replacewith (
			wd(e) & wd(f)
		 )
		\heuristics ( simplify )
	};

	wd_Ref_Expr_ArrElem {

		\find (
			wd( I::select(h, o, arr(e)) )
		)
		\varcond (
			\isArray(o)
		)
		\replacewith (
			wd(o) & o != null & boolean::select(h, o, java.lang.Object::<created>) = TRUE
			& wd(h) & wd(e) & leq(0,e) & lt(e,length(o))
		)
		\heuristics ( simplify )
	};

	wd_Seq_Get {

		\find (
			wd( I::seqGet(u, e) )
		)
		\replacewith (
			wd(u) & wd(e) & leq(0,e) & lt(e,seqLen(u))
		)
		\heuristics ( simplify )
	};

	wd_Seq_Def {

		\find (
			wd( seqDef{j;} (e, f, c) )
		)
		\varcond (
			\notFreeIn(j, e),
			\notFreeIn(j, f)
		)
		\replacewith (
			wd(e) & wd(f) & \forall j; ((leq(e,j) & lt(j,f)) -> wd(c))
		)
		\heuristics ( simplify )
	};

	wd_Seq_Out {

		\find (
			wd( seqGetOutside )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Seq_Rem {

		\find (
			wd( seqRemove(u, e) )
		)
		\replacewith (
			wd(u) & wd(e) & leq(0,e) & lt(e,seqLen(u))
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_ArrLength {

		\find (
			wd( length(o) )
		)
		\varcond (
			\isArray(o)
		)
		\replacewith (
			o != null & wd(o)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_SeqLen {

		\find (
			wd( seqLen(u) )
		)
		\replacewith (
			wd(u)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Atom {

		\find (
			wd( atom )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Null {

		\find (
			wd( null )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_Gen_Quant_Bsum {

		\find (
			wd( bsum{j;} (e, f, g) )
		)
		\varcond (
			\notFreeIn(j, e),
			\notFreeIn(j, f)
		)
		\replacewith (
			wd(e) & wd(f) & \forall j; ((leq(e,j) & lt(j,f)) -> wd(g))
		)
		\heuristics ( simplify )
	};

	wd_Gen_Quant_Prod {

		\find (
			wd( bprod{j;} (e, f, g) )
		)
		\varcond (
			\notFreeIn(j, e),
			\notFreeIn(j, f)
		)
		\replacewith (
			wd(e) & wd(f) & \forall j; ((leq(e,j) & lt(j,f)) -> wd(g))
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_Inst {

		\find (
			wd( I::instance(c) )
		)
		\replacewith (
			wd(c)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_InByte {

		\find (
			WD( inByte(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_InChar {

		\find (
			WD( inChar(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_InShort {

		\find (
			WD( inShort(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_InInt {

		\find (
			WD( inInt(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_InLong {

		\find (
			WD( inLong(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Seq_Singleton {

		\find (
			wd( seqSingleton(c) )
		)
		\replacewith (
			wd(c)
		)
		\heuristics ( simplify )
	};

	wd_Seq_Concat {

		\find (
			wd( seqConcat(u, v) )
		)
		\replacewith (
			wd(u) & wd (v)
		)
		\heuristics ( simplify )
	};

	wd_Seq_Swap {

		\find (
			wd( seqSwap(u, e, f) )
		)
		\replacewith (
			wd(u) & wd(e) & wd(f) & leq(0,e) & leq(0,f) & lt(e,seqLen(u)) & lt(f,seqLen(u))
		)
		\heuristics ( simplify )
	};

	wd_Seq_Sub {

		\find (
			wd( seqSub(u, e, f) )
		)
		\replacewith (
			wd(u) & wd(e) & wd(f) & leq(0,e) & leq(e,f) & lt(e,seqLen(u))
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_ArrRange {

		\find (
			wd( arrayRange(o, e, f) )
		)
		\varcond (
			\isArray(o)
		)
		\replacewith (
			wd(o) & o != null & wd(e) & wd(f) & leq(0,e) & leq(e,f) & lt(e,length(o))
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_AllElemsArr {

		\find (
			wd( allElementsOfArray(h, o, r) )
		)
		\varcond (
			\isArray(o)
		)
		\replacewith (
			wd(h) & wd(o) & o != null & wd(r) & boolean::select(h, o, java.lang.Object::<created>) = TRUE
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_AllElemsArrLocset {

		\find (
			wd( allElementsOfArrayLocsets(h, o, r) )
		)
		\varcond (
			\isArray(o)
		)
		\replacewith (
			wd(h) & wd(o) & o != null & wd(r) & boolean::select(h, o, java.lang.Object::<created>) = TRUE
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Acc {

		\find (
			WD( acc(h, r, o, q) )
		)
		\replacewith (
			wd(h) & wd(r) & wd(o) & o != null & wd(q) & q != null
			& boolean::select(h, o, java.lang.Object::<created>) = TRUE
			& boolean::select(h, q, java.lang.Object::<created>) = TRUE
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_Reach {

		\find (
			WD( reach(h, r, o, q, e) )
		)
		\replacewith (
			wd(h) & wd(r) & wd(o) & o != null & wd(q) & q != null & wd(e)
			& boolean::select(h, o, java.lang.Object::<created>) = TRUE
			& boolean::select(h, q, java.lang.Object::<created>) = TRUE
		)
		\heuristics ( simplify )
	};

	wd_Seq_Rev {

		\find (
			wd( seqReverse(u) )
		)
		\replacewith (
			wd(u)
		)
		\heuristics ( simplify )
	};

	wd_Seq_Idx {

		\find (
			wd( seqIndexOf(u, c) )
		)
		\replacewith (
			wd(u) & wd(c)
		)
		\heuristics ( simplify )
	};

	wd_Seq_Perm {

		\find (
			WD( seqPerm(u, v) )
		 )
		\replacewith (
			wd(u) & wd(v)
		 )
		\heuristics ( simplify )
	};

	wd_Seq_NPerm {

		\find (
			WD( seqNPerm(u) )
		 )
		\replacewith (
			wd(u)
		 )
		\heuristics ( simplify )
	};

	wd_Seq_NPermInv {

		\find (
			wd( seqNPermInv(u) )
		 )
		\replacewith (
			wd(u)
		 )
		\heuristics ( simplify )
	};

	wd_Ref_Expr_ElemOf {

		\find (
			WD( elementOf(o, p, r) )
		)
		\varcond (
			\not \isStaticField(p)
		)
		\replacewith (
			wd(o) & wd(p) & wd(r) & o != null
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_ElemOfStatic {

		\find (
			WD( elementOf(o, p, r) )
		)
		\varcond (
			\isStaticField(p)
		)
		\replacewith (
			wd(o) & wd(p) & wd(r) & o = null
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_InHeap {

		\find (
			WD( createdInHeap(r, h) )
		)
		\replacewith (
			wd(r) & wd(h)
		)
		\heuristics ( simplify )
	};

	wd_Ref_Expr_WellFormed {

		\find (
			WD( wellFormed(h) )
		)
		\replacewith (
			wd(h)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_Cast {

		\find (
			wd( I::cast(c) )
		)
		\replacewith (
			wd(c)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastByte {

		\find (
			wd( javaCastByte(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastShort {

		\find (
			wd( javaCastShort(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastInt {

		\find (
			wd( javaCastInt(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastLong {

		\find (
			wd( javaCastLong(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastChar {

		\find (
			wd( javaCastChar(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastByteOverFlow {

		\find (
			wd( javaCastByteOverFlow(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastShortOverFlow {

		\find (
			wd( javaCastShortOverFlow(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastIntOverFlow {

		\find (
			wd( javaCastIntOverFlow(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastLongOverFlow {

		\find (
			wd( javaCastLongOverFlow(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_CastCharOverFlow {

		\find (
			wd( javaCastCharOverFlow(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_ModByte {

		\find (
			wd( moduloByte(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_ModShort {

		\find (
			wd( moduloShort(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_ModInt {

		\find (
			wd( moduloInt(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_ModLong {

		\find (
			wd( moduloLong(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_ModChar {

		\find (
			wd( moduloChar(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_ExactInst {

		\find (
			wd( I::exactInstance(c) )
		)
		\replacewith (
			wd(c)
		)
		\heuristics ( simplify )
	};

	wd_Type_Pred_Cont {

		\find (
			WD( I::contains(c) )
		)
		\replacewith (
			wd(c)
		)
		\heuristics ( simplify )
	};

	wd_String_Empty {

		\find (
			wd( clEmpty )
		 )
		\replacewith (
			true
		 )
		\heuristics ( simplify )
	};

	wd_String_Cat {

		\find (
			wd( clCat(x, y) )
		)
		\replacewith (
			wd(x) & wd(y)
		)
		\heuristics ( simplify )
	};

	wd_String_Cons {

		\find (
			wd( clCons(e, x) )
		)
		\replacewith (
			wd(e) & wd(x) & leq(0,e)
		)
		\heuristics ( simplify )
	};

	wd_String_CharAt {

		\find (
			wd( clCharAt(e, x) )
		)
		\replacewith (
			wd(e) & wd(x) & leq(0, e) & lt(e, clLength(x))
		)
		\heuristics ( simplify )
	};

	wd_String_Length {

		\find (
			wd( clLength(x) )
		)
		\replacewith (
			wd(x)
		)
		\heuristics ( simplify )
	};

	wd_String_IndexOf {

		\find (
			wd( clIndexOfChar(e, f, x) )
		)
		\replacewith (
			wd(e) & wd(f) & wd(x) & leq(0, e) & leq(e, f) & lt(f, clLength(x))
		)
		\heuristics ( simplify )
	};

	wd_String_Sub {

		\find (
			wd( clSub(e, f, x) )
		)
		\replacewith (
			wd(e) & wd(f) & wd(x) & leq(0, e) & lt(e, f) & lt(f, clLength(x))
		)
		\heuristics ( simplify )
	};

	wd_String_Concat {

		\find (
			wd( clConcat(x, y) )
		)
		\replacewith (
			wd(x) & wd(y)
		)
		\heuristics ( simplify )
	};

	wd_String_IndexOfStr {

		\find (
			wd( clIndexOfCl(x, e, y) )
		)
		\replacewith (
			wd(x) & wd(e) & wd(y) & leq(0, e) & lt(e, f) & lt(add(e, clLength(x)), clLength(y))
		)
		\heuristics ( simplify )
	};

	wd_String_LastIndexOf {

		\find (
			wd( clLastIndexOfChar(e, f, x) )
		)
		\replacewith (
			wd(e) & wd(f) & wd(x) & leq(0, e) & leq(e, f) & lt(f, clLength(x))
		)
		\heuristics ( simplify )
	};

	wd_String_LastIndexOfStr {

		\find (
			wd( clLastIndexOfCl(x, e, y) )
		)
		\replacewith (
			wd(x) & wd(e) & wd(y) & leq(0, e) & lt(e, f) & lt(add(e, clLength(x)), clLength(y))
		)
		\heuristics ( simplify )
	};

	wd_String_Replace {

		\find (
			wd( clReplace(e, f, x) )
		)
		\replacewith (
			wd(e) & wd(f) & wd(x) & leq(0,e) & leq(0,f)
		)
		\heuristics ( simplify )
	};

	wd_String_Int {

		\find (
			wd( clTranslateInt(e) )
		)
		\replacewith (
			wd(e)
		)
		\heuristics ( simplify )
	};

	wd_String_RmvZeros {

		\find (
			wd( clRemoveZeros(x) )
		)
		\replacewith (
			wd(x)
		)
		\heuristics ( simplify )
	};

	wd_String_Hash {

		\find (
			wd( clHashCode(x) )
		)
		\replacewith (
			wd(x)
		)
		\heuristics ( simplify )
	};

	wd_String_StartsWith {

		\find (
			WD( clStartsWith(x, y) )
		)
		\replacewith (
			wd(x) & wd(y) & leq(clLength(x), clLength(y))
		)
		\heuristics ( simplify )
	};

	wd_String_EndsWith {

		\find (
			WD( clEndsWith(x, y) )
		)
		\replacewith (
			wd(x) & wd(y) & leq(clLength(x), clLength(y))
		)
		\heuristics ( simplify )
	};

	wd_String_Contains {

		\find (
			WD( clContains(x, y) )
		)
		\replacewith (
			wd(x) & wd(y) & leq(clLength(x), clLength(y))
		)
		\heuristics ( simplify )
	};
}

\rules(wdOperator:L) {

	wd_Logical_Op_Imp {

		\find (
			WD( (a -> b) )
		)
		\replacewith (
			WD(a) & (a -> WD(b))
		)
		\heuristics ( simplify )
	};

	wd_Conditional_Expr {

		\find (
			wd( \if (a) \then (c) \else (d) )
		)
		\replacewith (
			WD(a) & (a -> wd(c)) & (!a -> wd(d))
		)
		\heuristics ( simplify )
	};

	wd_Conditional_Form {

		\find (
			WD( \if (a) \then (b) \else (t) )
		)
		\replacewith (
			WD(a) & (a -> WD(b)) & (!a -> WD(t))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_OrSC {

		\find (
			WD( ((a | b)<<l>>) )
		)
		\varcond (
			\hasLabel(l, SC)
		)
		\replacewith (
			WD(a) & (!a -> WD(b))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_AndSC {

		\find (
			WD( ((a & b)<<l>>) )
		)
		\varcond (
			\hasLabel(l, SC)
		)
		\replacewith (
			WD(a) & (a -> WD(b))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Quant_All {

		\find (
			WD( \forall i; a )
		)
		\replacewith (
			\forall i; WD(a)
		)
		\heuristics ( simplify )
	};

	wd_Logical_Quant_Exist {

		\find (
			WD( \exists i; a )
		)
		\replacewith (
			\forall i; WD(a)
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_Neg {

		\find (
			WD( !a )
		)
		\replacewith (
			WD(a)
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_Eqv {

		\find (
			WD( (a <-> b) )
		)
		\replacewith (
			WD(a) & WD(b)
		)
		\heuristics ( simplify )
	};
}

\rules(wdOperator:D) {

	wd_Logical_Op_Imp {

		\find (
			WD( (a -> b) )
		)
		\replacewith (
			(WD(a) & !a) | (WD(b) & b) | (WD(a) & WD(b))
		)
		\heuristics ( simplify )
	};

	wd_Conditional_Expr {

		\find (
			wd( \if (a) \then (c) \else (d) )
		)
		\replacewith (
			(WD(a) & a & wd(c)) | (WD(a) & !a & wd(d)) | (wd(c) & wd(d) & (c = d))
		)
		\heuristics ( simplify )
	};

	wd_Conditional_Form {

		\find (
			WD( \if (a) \then (b) \else (t) )
		)
		\replacewith (
			(WD(a) & a & WD(b)) | (WD(a) & !a & WD(t)) | (WD(b) & WD(t) & (b <-> t))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_OrSC {

		\find (
			WD( ((a | b)<<l>>) )
		)
		\varcond (
			\hasLabel(l, SC)
		)
		\replacewith (
			(WD(a) & a) | (WD(b) & b) | (WD(a) & WD(b))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_AndSC {

		\find (
			WD( ((a & b)<<l>>) )
		)
		\varcond (
			\hasLabel(l, SC)
		)
		\replacewith (
			(WD(a) & !a) | (WD(b) & !b) | (WD(a) & WD(b))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Quant_All {

		\find (
			WD( \forall i; a )
		)
		\replacewith (
			(\exists i; (WD(a) & !a)) | (\forall i; WD(a))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Quant_Exist {

		\find (
			WD( \exists i; a )
		)
		\replacewith (
			(\exists i; (WD(a) & a)) | (\forall i; WD(a))
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_Neg {

		\find (
			WD( !a )
		)
		\replacewith (
			WD(a)
		)
		\heuristics ( simplify )
	};

	wd_Logical_Op_Eqv {

		\find (
			WD( (a <-> b) )
		)
		\replacewith (
			WD(a) & WD(b)
		)
		\heuristics ( simplify )
	};
}

\rules(wdOperator:Y) {

	wd_Y_Split {
		\find (
			WD( a )
		 )
		\varcond (
			\hasSubFormulas(a)
		)
		\replacewith (
			T(a) | F(a)
		 )
		\heuristics ( simplify )
	};

	wd_T_Resolve {
		\find (
			T( a )
		 )
		\varcond (
			\not \hasSubFormulas(a)
		)
		\replacewith (
			WD(a) & a
		 )
		\heuristics ( simplify )
	};

	wd_F_Resolve {
		\find (
			F( a )
		 )
		\varcond (
			\not \hasSubFormulas(a)
		)
		\replacewith (
			WD(a) & !a
		 )
		\heuristics ( simplify )
	};

	wd_T_Logical_Op_Imp {

		\find (
			T( (a -> b) )
		)
		\replacewith (
			F(a) | T(b)
		)
		\heuristics ( simplify )
	};

	wd_F_Logical_Op_Imp {

		\find (
			F( (a -> b) )
		)
		\replacewith (
			T(a) & F(b)
		)
		\heuristics ( simplify )
	};

	wd_Conditional_Expr {

		\find (
			wd( \if (a) \then (c) \else (d) )
		)
		\replacewith (
			(T(a) & wd(c)) | (F(a) & wd(d)) | (wd(c) & wd(d) & (c = d))
		)
		\heuristics ( simplify )
	};

	wd_T_Conditional_Form {

		\find (
			T( \if (a) \then (b) \else (t) )
		)
		\replacewith (
			(T(a) & T(b)) | (F(a) & T(t)) | (T(b) & T(t))
		)
		\heuristics ( simplify )
	};

	wd_F_Conditional_Form {

		\find (
			F( \if (a) \then (b) \else (t) )
		)
		\replacewith (
			(T(a) & F(b)) | (F(a) & F(t)) | (F(b) & F(t))
		)
		\heuristics ( simplify )
	};

	wd_T_Logical_Op_Or {

		\find (
			T( (a | b) )
		)
		\replacewith (
			T(a) | T(b)
		)
		\heuristics ( simplify )
	};

	wd_F_Logical_Op_Or {

		\find (
			F( (a | b) )
		)
		\replacewith (
			F(a) & F(b)
		)
		\heuristics ( simplify )
	};

	wd_T_Logical_Op_And {

		\find (
			T( (a & b) )
		)
		\replacewith (
			T(a) & T(b)
		)
		\heuristics ( simplify )
	};

	wd_F_Logical_Op_And {

		\find (
			F( (a & b) )
		)
		\replacewith (
			F(a) | F(b)
		)
		\heuristics ( simplify )
	};

	wd_T_Logical_Quant_All {

		\find (
			T( \forall i; a )
		)
		\replacewith (
			\forall i; T(a)
		)
		\heuristics ( simplify )
	};

	wd_F_Logical_Quant_All {

		\find (
			F( \forall i; a )
		)
		\replacewith (
			\exists i; F(a)
		)
		\heuristics ( simplify )
	};

	wd_T_Logical_Quant_Exist {

		\find (
			T( \exists i; a )
		)
		\replacewith (
			\exists i; T(a)
		)
		\heuristics ( simplify )
	};

	wd_F_Logical_Quant_Exist {

		\find (
			F( \exists i; a )
		)
		\replacewith (
			\forall i; F(a)
		)
		\heuristics ( simplify )
	};

	wd_T_Prim_Expr_True_Form {

		\find (
			T( true )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_F_Prim_Expr_True_Form {

		\find (
			F( true )
		)
		\replacewith (
			false
		)
		\heuristics ( simplify )
	};

	wd_T_Prim_Expr_False_Form {

		\find (
			T( false )
		)
		\replacewith (
			false
		)
		\heuristics ( simplify )
	};

	wd_F_Prim_Expr_False_Form {

		\find (
			F( false )
		)
		\replacewith (
			true
		)
		\heuristics ( simplify )
	};

	wd_T_Logical_Op_Neg {

		\find (
			T( !a )
		)
		\replacewith (
			F(a)
		)
		\heuristics ( simplify )
	};

	wd_F_Logical_Op_Neg {

		\find (
			F( !a )
		)
		\replacewith (
			T(a)
		)
		\heuristics ( simplify )
	};

	wd_T_Logical_Op_Eqv {

		\find (
			T( (a <-> b) )
		)
		\replacewith (
			(T(a) & T(b)) | (F(a) & F(b))
		)
		\heuristics ( simplify )
	};

	wd_F_Logical_Op_Eqv {

		\find (
			F( (a <-> b) )
		)
		\replacewith (
			(T(a) & F(b)) | (F(a) & T(b))
		)
		\heuristics ( simplify )
	};
}